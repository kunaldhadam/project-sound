{"ast":null,"code":"\"use strict\";\n\nimport jsfx from \"./jsfx\";\nvar Library = {};\nvar CurrentParams = {};\nfunction PlayCurrent() {\n  Play(CurrentParams);\n}\n_c = PlayCurrent;\nvar PlayAudio = function (params) {\n  var start = new Date() | 0;\n  jsfx.Sound(params).play();\n  var stop = new Date() | 0;\n  var time = stop - start + \"ms\";\n  console.log(\"Generated in\", time);\n  document.getElementById(\"last-time\").innerText = time;\n};\n_c2 = PlayAudio;\nvar Play = PlayAudio;\nvar PlayContext;\nif (typeof AudioContext !== \"undefined\") {\n  var Live = jsfx.Live();\n  PlayContext = function (params) {\n    Live._play(params);\n  };\n} else {\n  document.getElementById(\"use-audiocontext\").hidden = true;\n}\nfunction ChangePlayMode() {\n  if (document.getElementById(\"use-audiocontext\").checked) {\n    Play = PlayContext;\n  } else {\n    Play = PlayAudio;\n  }\n}\n_c3 = ChangePlayMode;\nfunction AddToLibrary() {\n  var name = prompt(\"Please enter name for the sound:\");\n  if (name == null || name == \"\") {\n    return;\n  }\n  var params = JSON.parse(JSON.stringify(CurrentParams));\n  jsfx._RemoveEmptyParams(params);\n  Library[name] = params;\n  UpdateHash();\n  UpdateCurrentView();\n}\n_c4 = AddToLibrary;\nfunction SelectPreset(preset) {\n  CurrentParams = preset();\n  UpdateCurrentView();\n  PlayCurrent();\n}\n_c5 = SelectPreset;\nvar LastHash = \"\";\nfunction UpdateHash() {\n  var json = JSON.stringify(Library);\n  document.getElementById(\"library-content\").value = json;\n  LastHash = \"#\" + btoa(json);\n  window.location.hash = LastHash;\n}\n_c6 = UpdateHash;\nfunction LoadFromHash() {\n  var json = window.location.hash.substr(1);\n  try {\n    json = atob(json);\n    document.getElementById(\"library-content\").value = json;\n    Library = JSON.parse(json);\n  } catch (e) {\n    console.log(e);\n  }\n}\n_c7 = LoadFromHash;\nif (window.location.hash != \"\") {\n  LoadFromHash();\n}\nwindow.onhashchange = function (ev) {\n  if (window.location.hash != LastHash) {\n    LoadFromHash();\n    UpdateCurrentView();\n  }\n};\nfunction UpdateDownloadLink() {\n  var sound = jsfx.Sound(CurrentParams);\n  var el = document.getElementById(\"download\");\n  el.href = sound.src;\n}\n_c8 = UpdateDownloadLink;\nfunction UpdateCurrentView() {\n  // create a copy of params\n  var params = JSON.parse(JSON.stringify(CurrentParams));\n  jsfx.InitDefaultParams(params, jsfx.DefaultModules);\n  list(params, function (moduleName, params) {\n    list(params, function (paramName, paramValue) {\n      var element = document.getElementById(moduleName + \"$\" + paramName);\n      ;\n      if (element) {\n        element.value = paramValue;\n      }\n      var element = document.getElementById(moduleName + \"_\" + paramName + \"_\" + paramValue);\n      if (element) {\n        element.checked = true;\n      }\n    });\n  });\n  var library = document.getElementById(\"library\");\n  library.innerHTML = \"\";\n  var els = list(Library, function (name, params) {\n    var load = E(\"button\", \"item-load\", \"#\");\n    load.title = \"Load\";\n    load.onclick = function () {\n      CurrentParams = JSON.parse(JSON.stringify(params));\n      UpdateCurrentView();\n    };\n    var del = E(\"button\", \"item-delete\", \"X\");\n    del.title = \"Delete\";\n    del.onclick = function () {\n      delete Library[name];\n      UpdateHash();\n      UpdateCurrentView();\n    };\n    var el = E(\"div\", \"library-item\", [load, E(\"span\", \"item-name\", name), del]);\n    el.title = \"play\";\n    el.onclick = function () {\n      Play(params);\n    };\n    library.appendChild(el);\n  });\n}\n_c9 = UpdateCurrentView;\ndocument.getElementById(\"library-content\").click = function (ev) {\n  ev.currentTarget.select();\n};\nfunction ModifyValue(moduleName, paramName, newValue) {\n  // console.log(\"CHANGE\", moduleName, paramName, newValue);\n  if (CurrentParams[moduleName] == null) {\n    CurrentParams[moduleName] = {};\n  }\n  CurrentParams[moduleName][paramName] = newValue;\n  PlayCurrent();\n}\n_c10 = ModifyValue;\nfunction CreateParam(name, def, module) {\n  var sel;\n  if (def.C) {\n    sel = E(\"form\", \"\", list(def.C, function (value) {\n      var input = E(\"input\", \"\", []);\n      input.type = \"radio\";\n      input.id = module.name + \"_\" + name + \"_\" + value;\n      input.name = module.name + \"_\" + name;\n      input.value = value;\n      input.onchange = function (ev) {\n        ModifyValue(module.name, name, input.value);\n      };\n      var label = E(\"label\", \"\", value);\n      label.htmlFor = input.id;\n      return E(\"span\", \"radio-option\", [input, label]);\n    }));\n  } else {\n    sel = E(\"input\", \"\", []);\n    sel.type = \"range\";\n    sel.min = def.L;\n    sel.max = def.H;\n    sel.value = def.D;\n    sel.step = 0.01;\n    sel.onchange = function (ev) {\n      ModifyValue(module.name, name, parseFloat(sel.value));\n    };\n    if (def.H - def.L > 10) {\n      sel.step = 1;\n    }\n  }\n  sel.id = module.name + \"$\" + name;\n  return E(\"tr\", \"\", [E(\"td\", \"\", name), E(\"td\", \"\", [sel])]);\n}\n_c11 = CreateParam;\nfunction CreatePanel(module) {\n  return E(\"div\", \"panel\", [E(\"div\", \"panel-title\", module.name), E(\"table\", \"\", list(module.params, CreateParam, module))]);\n}\n_c12 = CreatePanel;\nfunction Add(module) {\n  document.getElementById(\"panels\").appendChild(CreatePanel(module));\n}\n_c13 = Add;\nAdd(jsfx.Module.Generator);\nAdd(jsfx.Module.Frequency);\nAdd(jsfx.Module.Volume);\nAdd(jsfx.Module.Vibrato);\nAdd(jsfx.Module.Filter);\nAdd(jsfx.Module.Phaser);\ndocument.getElementById(\"panels\").appendChild(E(\"div\", \"clear\", []));\nlist(jsfx.Preset, function (name, preset) {\n  var button = E(\"button\", \"\", name);\n  button.onclick = function () {\n    SelectPreset(preset);\n  };\n  document.getElementById(\"presets\").appendChild(button);\n});\ndocument.getElementById(\"presets\").appendChild(E(\"div\", \"clear\", []));\nfunction E(tag, className, content) {\n  var el = document.createElement(tag);\n  if (className !== '') {\n    el.className = className;\n  }\n  if (typeof content == 'object') {\n    for (var i = 0; i < content.length; i += 1) {\n      el.appendChild(content[i]);\n    }\n  } else if (typeof content == 'string') {\n    el.innerHTML = content;\n  }\n  return el;\n}\n_c14 = E;\nfunction list(obj, fn, X) {\n  var r = [];\n  for (var name in obj) {\n    if (obj.hasOwnProperty(name)) {\n      r.push(fn(name, obj[name], X));\n    }\n  }\n  return r;\n}\nUpdateCurrentView();\nexport default PlayCurrent;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14;\n$RefreshReg$(_c, \"PlayCurrent\");\n$RefreshReg$(_c2, \"PlayAudio\");\n$RefreshReg$(_c3, \"ChangePlayMode\");\n$RefreshReg$(_c4, \"AddToLibrary\");\n$RefreshReg$(_c5, \"SelectPreset\");\n$RefreshReg$(_c6, \"UpdateHash\");\n$RefreshReg$(_c7, \"LoadFromHash\");\n$RefreshReg$(_c8, \"UpdateDownloadLink\");\n$RefreshReg$(_c9, \"UpdateCurrentView\");\n$RefreshReg$(_c10, \"ModifyValue\");\n$RefreshReg$(_c11, \"CreateParam\");\n$RefreshReg$(_c12, \"CreatePanel\");\n$RefreshReg$(_c13, \"Add\");\n$RefreshReg$(_c14, \"E\");","map":{"version":3,"names":["jsfx","Library","CurrentParams","PlayCurrent","Play","_c","PlayAudio","params","start","Date","Sound","play","stop","time","console","log","document","getElementById","innerText","_c2","PlayContext","AudioContext","Live","_play","hidden","ChangePlayMode","checked","_c3","AddToLibrary","name","prompt","JSON","parse","stringify","_RemoveEmptyParams","UpdateHash","UpdateCurrentView","_c4","SelectPreset","preset","_c5","LastHash","json","value","btoa","window","location","hash","_c6","LoadFromHash","substr","atob","e","_c7","onhashchange","ev","UpdateDownloadLink","sound","el","href","src","_c8","InitDefaultParams","DefaultModules","list","moduleName","paramName","paramValue","element","library","innerHTML","els","load","E","title","onclick","del","appendChild","_c9","click","currentTarget","select","ModifyValue","newValue","_c10","CreateParam","def","module","sel","C","input","type","id","onchange","label","htmlFor","min","L","max","H","D","step","parseFloat","_c11","CreatePanel","_c12","Add","_c13","Module","Generator","Frequency","Volume","Vibrato","Filter","Phaser","Preset","button","tag","className","content","createElement","i","length","_c14","obj","fn","X","r","hasOwnProperty","push","$RefreshReg$"],"sources":["D:/React Course/Sound Project/src/new.js"],"sourcesContent":["\r\n\r\n\"use strict\";\r\n\r\nimport jsfx from \"./jsfx\";\r\n\r\nvar Library = {};\r\nvar CurrentParams = {};\r\n\r\nfunction PlayCurrent(){ Play(CurrentParams); }\r\n\r\nvar PlayAudio = function(params){\r\nvar start = (new Date())|0;\r\njsfx.Sound(params).play();\r\nvar stop = (new Date())|0;\r\nvar time = (stop - start) + \"ms\"\r\nconsole.log(\"Generated in\", time);\r\ndocument.getElementById(\"last-time\").innerText = time;\r\n};\r\nvar Play = PlayAudio;\r\n\r\nvar PlayContext;\r\nif(typeof AudioContext !== \"undefined\"){\r\nvar Live = jsfx.Live();\r\nPlayContext = function(params){\r\n    Live._play(params);\r\n};\r\n} else {\r\ndocument.getElementById(\"use-audiocontext\").hidden = true;\r\n}\r\n\r\nfunction ChangePlayMode(){\r\nif(document.getElementById(\"use-audiocontext\").checked){\r\n    Play = PlayContext;\r\n} else {\r\n    Play = PlayAudio;\r\n}\r\n}\r\n\r\nfunction AddToLibrary(){\r\nvar name = prompt(\"Please enter name for the sound:\");\r\nif((name == null) || (name == \"\")){\r\n    return;\r\n}\r\n\r\nvar params = JSON.parse(JSON.stringify(CurrentParams));\r\njsfx._RemoveEmptyParams(params);\r\n\r\nLibrary[name] = params;\r\nUpdateHash();\r\nUpdateCurrentView();\r\n}\r\n\r\nfunction SelectPreset(preset){\r\nCurrentParams = preset();\r\nUpdateCurrentView();\r\nPlayCurrent();\r\n}\r\n\r\nvar LastHash = \"\";\r\nfunction UpdateHash(){\r\nvar json = JSON.stringify(Library);\r\ndocument.getElementById(\"library-content\").value = json;\r\nLastHash = \"#\" + btoa(json);\r\nwindow.location.hash = LastHash;\r\n}\r\n\r\nfunction LoadFromHash(){\r\nvar json = window.location.hash.substr(1);\r\ntry{\r\n    json = atob(json)\r\n    document.getElementById(\"library-content\").value = json;\r\n    Library = JSON.parse(json);\r\n}catch(e){ console.log(e); }\r\n}\r\n\r\nif(window.location.hash != \"\"){ LoadFromHash(); }\r\nwindow.onhashchange = function(ev){\r\nif(window.location.hash != LastHash){\r\n    LoadFromHash();\r\n    UpdateCurrentView();\r\n}\r\n};\r\n\r\nfunction UpdateDownloadLink(){\r\nvar sound = jsfx.Sound(CurrentParams);\r\nvar el = document.getElementById(\"download\");\r\nel.href = sound.src;\r\n}\r\n\r\nfunction UpdateCurrentView(){\r\n// create a copy of params\r\nvar params = JSON.parse(JSON.stringify(CurrentParams));\r\njsfx.InitDefaultParams(params, jsfx.DefaultModules);\r\n\r\nlist(params, function(moduleName, params){\r\n    list(params, function(paramName, paramValue){\r\n    var element = document.getElementById(moduleName + \"$\" + paramName);;\r\n    if(element){\r\n        element.value = paramValue;\r\n    }\r\n    var element = document.getElementById(moduleName + \"_\" + paramName + \"_\" + paramValue);\r\n    if(element){\r\n        element.checked = true;\r\n    }\r\n    });\r\n});\r\n\r\nvar library = document.getElementById(\"library\");\r\nlibrary.innerHTML = \"\";\r\nvar els = list(Library, function(name, params){\r\n    var load  = E(\"button\", \"item-load\", \"#\");\r\n    load.title = \"Load\";\r\n    load.onclick = function(){\r\n    CurrentParams = JSON.parse(JSON.stringify(params));\r\n    UpdateCurrentView();\r\n    };\r\n\r\n    var del  = E(\"button\", \"item-delete\", \"X\");\r\n    del.title = \"Delete\";\r\n    del.onclick = function(){\r\n    delete Library[name];\r\n    UpdateHash();\r\n    UpdateCurrentView();\r\n    }\r\n\r\n    var el = E(\"div\", \"library-item\", [\r\n    load,\r\n    E(\"span\", \"item-name\", name),\r\n    del\r\n    ]);\r\n    el.title = \"play\";\r\n    el.onclick = function(){\r\n    Play(params);\r\n    };\r\n    library.appendChild(el);\r\n});\r\n}\r\n\r\ndocument.getElementById(\"library-content\").click = function(ev){\r\nev.currentTarget.select();\r\n}\r\n\r\nfunction ModifyValue(moduleName, paramName, newValue){\r\n// console.log(\"CHANGE\", moduleName, paramName, newValue);\r\nif(CurrentParams[moduleName] == null){\r\n    CurrentParams[moduleName] = {};\r\n}\r\nCurrentParams[moduleName][paramName] = newValue;\r\nPlayCurrent();\r\n}\r\n\r\nfunction CreateParam(name, def, module){\r\nvar sel;\r\nif(def.C){\r\n    sel = E(\"form\", \"\", list(def.C, function(value){\r\n    var input = E(\"input\", \"\", []);\r\n    input.type = \"radio\";\r\n    input.id   = module.name + \"_\" + name + \"_\" + value;\r\n    input.name  = module.name + \"_\" + name;\r\n    input.value = value;\r\n    input.onchange = function(ev){\r\n        ModifyValue(module.name, name, input.value);\r\n    };\r\n\r\n    var label = E(\"label\", \"\", value);\r\n    label.htmlFor = input.id;\r\n    return E(\"span\", \"radio-option\", [input, label]);\r\n    }));\r\n} else {\r\n    sel = E(\"input\", \"\", []);\r\n    sel.type = \"range\";\r\n    sel.min = def.L;\r\n    sel.max = def.H;\r\n    sel.value = def.D;\r\n    sel.step = 0.01;\r\n    sel.onchange = function(ev){\r\n    ModifyValue(module.name, name, parseFloat(sel.value));\r\n    };\r\n    if(def.H - def.L > 10){\r\n    sel.step = 1;\r\n    }\r\n}\r\nsel.id = module.name + \"$\" + name;\r\n\r\nreturn E(\"tr\", \"\", [\r\n    E(\"td\", \"\", name),\r\n    E(\"td\", \"\", [sel])\r\n]);\r\n}\r\n\r\nfunction CreatePanel(module){\r\nreturn E(\"div\", \"panel\", [\r\n    E(\"div\", \"panel-title\", module.name),\r\n    E(\"table\", \"\", list(module.params, CreateParam, module))\r\n]);\r\n}\r\n\r\nfunction Add(module){\r\ndocument.getElementById(\"panels\").appendChild(CreatePanel(module));\r\n}\r\n\r\nAdd(jsfx.Module.Generator);\r\nAdd(jsfx.Module.Frequency);\r\nAdd(jsfx.Module.Volume);\r\nAdd(jsfx.Module.Vibrato);\r\nAdd(jsfx.Module.Filter);\r\nAdd(jsfx.Module.Phaser);\r\n\r\ndocument.getElementById(\"panels\").appendChild(E(\"div\", \"clear\", []));\r\n\r\nlist(jsfx.Preset, function(name, preset){\r\nvar button = E(\"button\", \"\", name);\r\nbutton.onclick = function(){ SelectPreset(preset); };\r\ndocument.getElementById(\"presets\").appendChild(button);\r\n});\r\ndocument.getElementById(\"presets\").appendChild(E(\"div\", \"clear\", []));\r\n\r\nfunction E(tag, className, content){\r\nvar el = document.createElement(tag);\r\nif(className !== ''){\r\n    el.className = className;\r\n}\r\nif(typeof content == 'object'){\r\n    for(var i = 0; i < content.length; i += 1){\r\n    el.appendChild(content[i]);\r\n    }\r\n} else if (typeof content == 'string'){\r\n    el.innerHTML = content;\r\n}\r\nreturn el;\r\n}\r\n\r\nfunction list(obj, fn, X){\r\nvar r = [];\r\nfor(var name in obj){\r\n    if(obj.hasOwnProperty(name)){\r\n    r.push(fn(name, obj[name], X));\r\n    }\r\n}\r\nreturn r;\r\n}\r\n\r\nUpdateCurrentView();\r\nexport default PlayCurrent;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}