{"ast":null,"code":"var _jsxFileName = \"D:\\\\React Course\\\\Sound Project\\\\src\\\\components\\\\SoundVisualizer.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SoundVisualizer = () => {\n  _s();\n  const canvasRef = useRef(null);\n  let audioContext, analyser, dataArray, canvasCtx, audioElement;\n\n  // State to track whether audio is playing\n  const [isPlaying, setIsPlaying] = useState(false);\n  useEffect(() => {\n    audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    analyser = audioContext.createAnalyser();\n    analyser.fftSize = 2048;\n    dataArray = new Uint8Array(analyser.frequencyBinCount);\n    audioElement = new Audio('src\\\\sample.wav'); // Replace with actual path\n    audioElement.crossOrigin = \"anonymous\"; // Necessary for certain servers\n\n    const source = audioContext.createMediaElementSource(audioElement);\n    source.connect(analyser);\n    analyser.connect(audioContext.destination);\n    canvasCtx = canvasRef.current.getContext('2d');\n\n    // Render loop\n    const draw = () => {\n      requestAnimationFrame(draw);\n      analyser.getByteTimeDomainData(dataArray); // Get waveform data\n\n      canvasCtx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\n      canvasCtx.beginPath();\n      const sliceWidth = canvasRef.current.width * 1.0 / dataArray.length;\n      let x = 0;\n      for (let i = 0; i < dataArray.length; i++) {\n        const v = dataArray[i] / 128.0;\n        const y = v * canvasRef.current.height / 2;\n        if (i === 0) {\n          canvasCtx.moveTo(x, y);\n        } else {\n          canvasCtx.lineTo(x, y);\n        }\n        x += sliceWidth;\n      }\n      canvasCtx.lineTo(canvasRef.current.width, canvasRef.current.height / 2);\n      canvasCtx.stroke();\n    };\n\n    // Play audio on user interaction\n    const playAudio = () => {\n      if (!isPlaying) {\n        audioElement.play();\n        setIsPlaying(true);\n      }\n    };\n\n    // Listen for user interaction event (e.g., click) to start playing audio\n    document.addEventListener('click', playAudio);\n\n    // Start rendering\n    draw();\n\n    // Cleanup function\n    return () => {\n      document.removeEventListener('click', playAudio);\n    };\n  }, [isPlaying]);\n  return /*#__PURE__*/_jsxDEV(\"canvas\", {\n    ref: canvasRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 10\n  }, this);\n};\n_s(SoundVisualizer, \"5HgVLbZorYcM0YDnwNvL+c5YLqM=\");\n_c = SoundVisualizer;\nexport default SoundVisualizer;\nvar _c;\n$RefreshReg$(_c, \"SoundVisualizer\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","SoundVisualizer","_s","canvasRef","audioContext","analyser","dataArray","canvasCtx","audioElement","isPlaying","setIsPlaying","window","AudioContext","webkitAudioContext","createAnalyser","fftSize","Uint8Array","frequencyBinCount","Audio","crossOrigin","source","createMediaElementSource","connect","destination","current","getContext","draw","requestAnimationFrame","getByteTimeDomainData","clearRect","width","height","beginPath","sliceWidth","length","x","i","v","y","moveTo","lineTo","stroke","playAudio","play","document","addEventListener","removeEventListener","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/React Course/Sound Project/src/components/SoundVisualizer.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\n\r\nconst SoundVisualizer = () => {\r\n  const canvasRef = useRef(null);\r\n  let audioContext, analyser, dataArray, canvasCtx, audioElement;\r\n\r\n  // State to track whether audio is playing\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n\r\n  useEffect(() => {\r\n    audioContext = new (window.AudioContext || window.webkitAudioContext)();\r\n    analyser = audioContext.createAnalyser();\r\n    analyser.fftSize = 2048;\r\n    dataArray = new Uint8Array(analyser.frequencyBinCount);\r\n\r\n    audioElement = new Audio('src\\\\sample.wav'); // Replace with actual path\r\n    audioElement.crossOrigin = \"anonymous\"; // Necessary for certain servers\r\n\r\n    const source = audioContext.createMediaElementSource(audioElement);\r\n    source.connect(analyser);\r\n    analyser.connect(audioContext.destination);\r\n\r\n    canvasCtx = canvasRef.current.getContext('2d');\r\n\r\n    // Render loop\r\n    const draw = () => {\r\n      requestAnimationFrame(draw);\r\n      analyser.getByteTimeDomainData(dataArray); // Get waveform data\r\n\r\n      canvasCtx.clearRect(0, 0, canvasRef.current.width, canvasRef.current.height);\r\n      canvasCtx.beginPath();\r\n      const sliceWidth = (canvasRef.current.width * 1.0) / dataArray.length;\r\n      let x = 0;\r\n\r\n      for (let i = 0; i < dataArray.length; i++) {\r\n        const v = dataArray[i] / 128.0;\r\n        const y = (v * canvasRef.current.height) / 2;\r\n        if (i === 0) {\r\n          canvasCtx.moveTo(x, y);\r\n        } else {\r\n          canvasCtx.lineTo(x, y);\r\n        }\r\n        x += sliceWidth;\r\n      }\r\n\r\n      canvasCtx.lineTo(canvasRef.current.width, canvasRef.current.height / 2);\r\n      canvasCtx.stroke();\r\n    };\r\n\r\n    // Play audio on user interaction\r\n    const playAudio = () => {\r\n      if (!isPlaying) {\r\n        audioElement.play();\r\n        setIsPlaying(true);\r\n      }\r\n    };\r\n\r\n    // Listen for user interaction event (e.g., click) to start playing audio\r\n    document.addEventListener('click', playAudio);\r\n\r\n    // Start rendering\r\n    draw();\r\n\r\n    // Cleanup function\r\n    return () => {\r\n      document.removeEventListener('click', playAudio);\r\n    };\r\n  }, [isPlaying]);\r\n\r\n  return <canvas ref={canvasRef} />;\r\n};\r\n\r\nexport default SoundVisualizer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}